{% extends "appbuilder/base.html" %}
{% import 'appbuilder/general/lib.html' as lib %}

{% block content %}

<script type="text/javascript" src="{{url_for('appbuilder.static',filename='js/google_charts.js')}}"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
			//load the Google Visualization API and the chart
		google.charts.load('current', {packages: ['corechart', 'line']});
		google.charts.setOnLoadCallback(drawBasic);

		function drawBasic() {
			
			  var data = new google.visualization.DataTable();
			  data.addColumn('number', 'X');
			  data.addColumn('number', 'Model');
			  var ps = {{pk | safe}};
			  if (ps % 2 == 1){
				  data.addRows([
					[0, 0],   [1, 10],  [2, 23],  [3, 17],  [4, 18],  [5, 9],
					[6, 11],  [7, 27],  [8, 33],  [9, 40],  [10, 32], [11, 35],
					[12, 30], [13, 40], [14, 42], [15, 47], [16, 44], [17, 48],
					[18, 52], [19, 54], [20, 42], [21, 55], [22, 56], [23, 57],
					[24, 60], [25, 50], [26, 52], [27, 51], [28, 49], [29, 53],
					[30, 55], [31, 60], [32, 61], [33, 59], [34, 62], [35, 65],
					[36, 62], [37, 58], [38, 55], [39, 61], [40, 64], [41, 65],
					[42, 63], [43, 66], [44, 67], [45, 69], [46, 69], [47, 70],
					[48, 72], [49, 68], [50, 66], [51, 65], [52, 67], [53, 70],
					[54, 71], [55, 72], [56, 73], [57, 75], [58, 70], [59, 68],
					[60, 64], [61, 60], [62, 65], [63, 67], [64, 68], [65, 69],
					[66, 70], [67, 72], [68, 75], [69, 80]
				  ]);

			  
			  }else{
			  
			  
				  data.addRows([
					[0, 0],   [1, 20],  [2, 50],  [3, 57],  [4, 58],  [5, 59],
					[6, 61],  [7, 71],  [8, 82],  [9, 82],  [10, 70], [11, 75],
					[12, 76], [13, 79], [14, 75], [15, 78], [16, 79], [17, 81],
					[18, 82], [19, 83], [20, 81], [21, 84], [22, 89], [23, 86],
					[24, 79], [25, 82], [26, 87], [27, 78], [28, 91], [29, 89],
					[30, 85], [31, 86], [32, 87], [33, 92], [34, 91], [35, 90],
					[36, 89], [37, 97], [38, 97], [39, 87], [40, 78], [41, 89],
					[42, 92], [43, 93], [44, 87], [45, 86], [46, 85], [47, 84],
					[48, 84], [49, 86], [50, 85], [51, 89], [52, 93], [53, 96],
					[54, 98], [55, 92], [56, 91], [57, 90], [58, 89], [59, 91],
					[60, 95], [61, 93], [62, 92], [63, 91], [64, 93], [65, 92],
					[66, 91], [67, 93], [68, 92], [69, 95]
				  ]);
			  
			  }

			  var options = {
				hAxis: {
				  title: 'Step'
				},
				vAxis: {
				  title: 'Accuracy'
				}
			  };

			  var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

			  chart.draw(data, options);
			}
</script>


<div class="col-lg-{{ master_div_width}} col-md-{{ master_div_width}} container">
    {{ lib.panel_begin(title) }}
   	        {{ widgets.get('list')()|safe }}
    {{ lib.panel_end() }}
</div>
{% for view in related_views %}
    <div class="col-lg-{{ 12 - master_div_width}} col-md-{{ 12 - master_div_width}} container">
        {{ lib.panel_begin(view.list_title) }}
        <div id="chart_div" style="height:350px">
            <!-- {{ widgets.get('related_views')[loop.index - 1](pk = pk)|safe }} -->
        </div>
        {{ lib.panel_end() }}
    </div>
{% endfor %}

{% endblock %}
